webpackJsonp([11],{"0Tww":function(e,t){},"3XNM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"AreaAdd",components:{typeForm:a("ot4o").a}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"jee-page"},[t("div",{staticClass:"jee-header"},[t("div",{staticClass:"jee-title"},[t("i",{class:this.$route.meta.icon}),this._v(" "+this._s(this.$route.meta.title))])]),this._v(" "),t("div",{staticClass:"jee-body"},[t("type-form")],1)])},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("fP0z")},"data-v-60a9e17c",null);t.default=o.exports},fP0z:function(e,t){},ot4o:function(e,t,a){"use strict";var r=a("Xxa5"),s=a.n(r),o=a("exGp"),n=a.n(o),i=a("Dd8w"),l=a.n(i),u=a("M4fF"),c=a.n(u),m=a("Z5+d"),f=a("RbaZ"),p=a("V/8j"),d=a("t5DY"),h={areaCode:[{required:!0,message:"请输入区域代码",trigger:"blur"},{max:10,message:"请输入不超过10个字符",trigger:"blur"},{pattern:/^\w+$/,message:"只能包括英文字母、数字和下划线",trigger:"blur"}],areaName:[{required:!0,message:"请输入区域名称",trigger:"blur"}],areaType:[{required:!0,message:"请选择区域类型",trigger:"change"}],areaSort:[{required:!0,message:"请输入排序号",trigger:"blur"},{pattern:/^\d+$/,message:"请输入数字",trigger:["blur","change"]}],remarks:[{max:150,message:"请输入不超过150个字符",trigger:"change"}]},v={components:{VTreeSelectDialog:m.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{treeData:[],form:{parentUuid:"",areaCode:"",areaName:"",areaShortName:"",areaType:"",areaSort:"",remarks:""},rules:l()({},h),loading:!1,typeOptions:[]}},mounted:function(){this.getDictData(),this.queryAreaList(),this.initForm()},methods:{initForm:function(){this.$refs.form.resetFields(),this.form.parentUuid=this.$route.params.parentUuid||"",this.isEdit&&(this.$route.query.uuid?this.getDetail(this.$route.query.uuid):this.jumpRouterCachedView(this.$route,{path:"/sys/area"}))},getDictData:function(){var e=this;return n()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.b)("sys_area_type");case 2:"0000"===(a=t.sent).code&&(e.typeOptions=a.data);case 4:case"end":return t.stop()}},t,e)}))()},getDetail:function(e){var t=this;return n()(s.a.mark(function a(){var r,o;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(p.t)({areaUuid:e});case 2:if("0000"===(r=a.sent).code&&r.data)for(o in r.data)r.data.hasOwnProperty(o)&&null!==r.data[o]&&(t.form[o]=r.data[o]);case 4:case"end":return a.stop()}},a,t)}))()},queryAreaList:function(){var e=this;return n()(s.a.mark(function t(){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)();case 2:"0000"===(a=t.sent).code&&(r=Object(f.a)(a.data),e.treeData=Object(f.b)(r,"menuSort"));case 4:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;this.$refs.form.validate(function(t){if(t){var a=c.a.cloneDeep(e.form);e.isEdit?e.submit(p.l,a):e.submit(p.a,a)}})},submit:function(e,t){var a=this;return n()(s.a.mark(function r(){var o;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a.loading=!0,r.next=3,e(t);case 3:if(o=r.sent,a.loading=!1,"0000"===o.code){r.next=7;break}return r.abrupt("return");case 7:a.$message({type:"success",message:"操作成功"}),a.jumpRouterView(a.$route,{path:"/sys/area"});case 9:case"end":return r.stop()}},r,a)}))()},close:function(){this.jumpRouterCachedView(this.$route,{path:"/sys/area"})},autoName:function(){this.form.areaShortName&&!this.form.areaName&&(this.form.areaName=this.form.areaShortName)}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small"}},[a("div",{staticClass:"jee-form-title"},[e._v("基本信息")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"上级区域："}},[a("v-tree-select-dialog",{attrs:{"tree-data":e.treeData,"tree-props":{label:"areaName",children:"children",key:"uuid"},"filter-value":e.form.uuid,"dialog-title":"上级区域"},model:{value:e.form.parentUuid,callback:function(t){e.$set(e.form,"parentUuid",t)},expression:"form.parentUuid"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"区域代码：",prop:"areaCode"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.areaCode,callback:function(t){e.$set(e.form,"areaCode",t)},expression:"form.areaCode"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"区域简称："}},[a("el-input",{attrs:{maxlength:"150"},on:{blur:e.autoName},model:{value:e.form.areaShortName,callback:function(t){e.$set(e.form,"areaShortName",t)},expression:"form.areaShortName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"区域名称：",prop:"areaName"}},[a("el-input",{attrs:{maxlength:"150"},model:{value:e.form.areaName,callback:function(t){e.$set(e.form,"areaName",t)},expression:"form.areaName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1}},[a("el-form-item",{attrs:{label:"区域类型：",prop:"areaType"}},[a("el-radio-group",{model:{value:e.form.areaType,callback:function(t){e.$set(e.form,"areaType",t)},expression:"form.areaType"}},e._l(e.typeOptions,function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel)+"\n          ")])}))],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"排序号：",prop:"areaSort"}},[a("el-input",{attrs:{maxlength:"9"},model:{value:e.form.areaSort,callback:function(t){e.$set(e.form,"areaSort",t)},expression:"form.areaSort"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,span:21}},[a("el-form-item",{attrs:{label:"备注信息：",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"jee-submit-buttons"},[a("el-col",{attrs:{offset:1,span:21}},[a("el-button",{attrs:{loading:e.loading,type:"primary",icon:"fa fa-check",size:"small"},on:{click:e.save}},[e._v("  保 存\n      ")]),e._v(" "),a("el-button",{attrs:{icon:"fa fa-reply-all",size:"small"},on:{click:e.close}},[e._v("  关 闭")])],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(v,g,!1,function(e){a("0Tww")},"data-v-fa3c094c",null);t.a=b.exports}});