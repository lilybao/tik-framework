webpackJsonp([2],{"5PlU":function(e,t,a){var l=a("RY/4"),r=a("dSzd")("iterator"),o=a("/bQp");e.exports=a("FeBl").isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(l(t))}},Cw6D:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),r=a.n(l),o=a("woOf"),s=a.n(o),i=a("d7EF"),n=a.n(i),c=a("exGp"),u=a.n(c),p=a("zM1N"),d=a.n(p),m=a("5XFP"),h={name:"Logs",data:function(){return{searchForm:{},searchFormTemp:{},showSearch:!1,tableData:[],pagination:{current:1,size:20,sizes:[10,20,50,100],total:0},loading:!1}},created:function(){this.getTableData()},methods:{query:function(e){this.pagination.current=1,this.searchFormTemp=d()(e),this.getTableData()},getlist:function(e){var t=e.current,a=e.size,l=e.data;return console.log(t,a,l),{code:"0000",message:"成功",reason:null,data:{records:[{field01:"系统管理/系统监控/访问日志",field02:"/js/a/sys/log/list",field03:"接入日志\t",field04:"jeeadmin",field05:"否\t",field06:"Log",field07:"2018-11-20 11:53",field08:"123.53.36.250",field09:"Windows 7",field10:"Chrome",field11:"55",field12:"6毫秒"}],total:18,size:20,current:1,pages:2}}},pageChange:function(e){this.pagination.current=e,this.getTableData()},sizeChange:function(e){this.pagination.current=1,this.pagination.size=e,this.getTableData()},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.searchFormTemp;return u()(r.a.mark(function a(){var l,o,i,c,u,p,h,v,f,g,b,_,w;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.pagination,o=l.current,i=l.size,e.loading=!0,(c=d()(t)).executeDate&&2===c.executeDate.length&&(u=n()(c.executeDate,2),p=u[0],h=u[1],c.executeDateStart=p,c.executeDateEnd=h,delete c.executeDate),a.next=6,Object(m.a)({current:o,size:i,data:c});case 6:v=a.sent,e.loading=!1,"0000"===v.code&&(f=v.data,g=f.current,b=f.size,_=f.total,w=f.records,e.pagination=s()({},e.pagination,{current:g,size:b,total:_}),e.tableData=w);case 9:case"end":return a.stop()}},a,e)}))()},resetForm:function(){this.searchForm={},this.query({})},queryData:function(){this.$message({message:"查询成功",type:"success"})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jee-page"},[a("div",{staticClass:"jee-header"},[a("div",{staticClass:"jee-title"},[a("i",{class:e.$route.meta.icon}),e._v(" "+e._s(e.$route.meta.title))]),e._v(" "),a("div",{staticClass:"jee-tools"},[a("el-button",{attrs:{icon:"fa fa-filter",size:"small"},on:{click:function(t){e.showSearch=!e.showSearch}}},[e._v(" "+e._s(e.showSearch?"隐藏":"查询")+"\n      ")])],1)]),e._v(" "),a("div",{staticClass:"jee-body"},[e.showSearch?a("el-form",{ref:"form",staticClass:"jee-search-form",attrs:{model:e.searchForm,inline:""}},[a("div",[a("el-form-item",{attrs:{label:"日志标题："}},[a("el-input",{staticStyle:{width:"90px"},attrs:{placeholder:"请填写",size:"small",clearable:""},model:{value:e.searchForm.logTitle,callback:function(t){e.$set(e.searchForm,"logTitle",t)},expression:"searchForm.logTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请求地址："}},[a("el-input",{staticStyle:{width:"125px"},attrs:{placeholder:"请填写",size:"small",clearable:""},model:{value:e.searchForm.requestUri,callback:function(t){e.$set(e.searchForm,"requestUri",t)},expression:"searchForm.requestUri"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"日志类型："}},[a("el-select",{staticStyle:{width:"125px"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.searchForm.logType,callback:function(t){e.$set(e.searchForm,"logType",t)},expression:"searchForm.logType"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"用户登录日志",value:"用户登录日志"}}),e._v(" "),a("el-option",{attrs:{label:"用户退出日志",value:"用户退出日志"}}),e._v(" "),a("el-option",{attrs:{label:"异常日志",value:"异常日志"}}),e._v(" "),a("el-option",{attrs:{label:"系统管理操作日志",value:"系统管理操作日志"}}),e._v(" "),a("el-option",{attrs:{label:"业务操作日志",value:"业务操作日志"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作用户："}},[a("el-input",{staticStyle:{width:"90px"},attrs:{placeholder:"请填写",size:"small",clearable:""},model:{value:e.searchForm.userName,callback:function(t){e.$set(e.searchForm,"userName",t)},expression:"searchForm.userName"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"是否异常："}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.searchForm.exceptionFlag,callback:function(t){e.$set(e.searchForm,"exceptionFlag",t)},expression:"searchForm.exceptionFlag"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期",size:"small","end-placeholder":"结束日期"},model:{value:e.searchForm.executeDate,callback:function(t){e.$set(e.searchForm,"executeDate",t)},expression:"searchForm.executeDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户端IP："}},[a("el-input",{staticStyle:{width:"90px"},attrs:{placeholder:"请填写",size:"small",clearable:""},model:{value:e.searchForm.remoteAddr,callback:function(t){e.$set(e.searchForm,"remoteAddr",t)},expression:"searchForm.remoteAddr"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.query(e.searchForm)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)]):e._e(),e._v(" "),a("div",{directives:[{name:"auto-height",rawName:"v-auto-height"}],staticClass:"jee-table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"100%",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logTitle",label:"日志标题",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"requestUri",label:"请求地址",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"logType",label:"日志类型",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"操作用户",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"exceptionFlag",label:"异常",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.exceptionFlag?a("el-tag",{attrs:{type:"danger"}},[e._v("是")]):a("el-tag",{attrs:{type:"success"}},[e._v("否")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"executeDate",label:"操作时间",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"remoteAddr",label:"客户端IP",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceName",label:"设备名称",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"browserName",label:"浏览器名",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"executeTime",label:"响应时间",align:"center","show-overflow-tooltip":""}})],1)],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pagination.current,"page-sizes":e.pagination.sizes,"page-size":e.pagination.size,total:e.pagination.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)])},staticRenderFns:[]};var f=a("VU/8")(h,v,!1,function(e){a("lRkf")},"data-v-a5a8402c",null);t.default=f.exports},Xd32:function(e,t,a){a("+tPU"),a("zQR9"),e.exports=a("5PlU")},d7EF:function(e,t,a){"use strict";t.__esModule=!0;var l=o(a("us/S")),r=o(a("BO1k"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,l.default)(Object(e)))return function(e,t){var a=[],l=!0,o=!1,s=void 0;try{for(var i,n=(0,r.default)(e);!(l=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){o=!0,s=e}finally{try{!l&&n.return&&n.return()}finally{if(o)throw s}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},lRkf:function(e,t){},"us/S":function(e,t,a){e.exports={default:a("Xd32"),__esModule:!0}}});