webpackJsonp([33],{KMop:function(e,t){},cSMs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),o=a.n(n),r=a("exGp"),i=a.n(r),l=a("zM1N"),s=a.n(l),c=a("5XFP"),u={name:"Online",data:function(){return{searchForm:{},searchFormTemp:{},showSearch:!1,tableData:[],pagination:{current:1,size:20,sizes:[10,20,50,100],total:0},loading:!1}},created:function(){this.getTableData()},methods:{query:function(e){this.pagination.current=1,this.searchFormTemp=s()(e),this.getTableData()},pageChange:function(e){this.pagination.current=e,this.getTableData()},sizeChange:function(e){this.pagination.current=1,this.pagination.size=e,this.getTableData()},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.searchFormTemp;return i()(o.a.mark(function a(){var n,r,i,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.pagination,r=n.current,i=n.size,e.loading=!0,a.next=4,Object(c.f)({current:r,size:i,data:t});case 4:l=a.sent,e.loading=!1,"0000"===l.code&&(e.tableData=l.data);case 7:case"end":return a.stop()}},a,e)}))()},resetForm:function(){this.searchForm={}},delOnlineUser:function(){var e=this;this.$confirm("此操作将踢出该在线用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"踢出成功!"})}).catch(function(){e.$message({type:"info",message:"已取消踢出"})})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jee-page"},[a("div",{staticClass:"jee-header"},[a("div",{staticClass:"jee-title"},[a("i",{class:e.$route.meta.icon}),e._v(" "+e._s(e.$route.meta.title))]),e._v(" "),a("div",{staticClass:"jee-tools"},[a("el-button",{attrs:{icon:"fa fa-filter",size:"small"},on:{click:function(t){e.showSearch=!e.showSearch}}},[e._v(" "+e._s(e.showSearch?"隐藏":"查询")+"\n      ")])],1)]),e._v(" "),a("div",{staticClass:"jee-body"},[e.showSearch?a("el-form",{ref:"form",staticClass:"jee-search-form",attrs:{model:e.searchForm,inline:""}},[a("el-form-item",{attrs:{label:"操作用户："}},[a("el-input",{attrs:{placeholder:"请填写",size:"small"},model:{value:e.searchForm.loginName,callback:function(t){e.$set(e.searchForm,"loginName",t)},expression:"searchForm.loginName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.query(e.searchForm)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")])],1)],1):e._e(),e._v(" "),a("div",{directives:[{name:"auto-height",rawName:"v-auto-height"}],staticClass:"jee-table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"100%",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginName",label:"用户名称",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"startTimestamp",label:"创建时间",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastAccessTime",label:"最后访问",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"timeout",label:"超时时间",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"host",label:"客户主机",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"用户类型",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceType",label:"设备类型",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{"open-delay":400,effect:"light",content:"踢出在线用户",placement:"bottom-start"}},[a("el-button",{attrs:{type:"danger-text",icon:"fa fa-trash-o"},on:{click:function(a){e.delOnlineUser(t.row)}}})],1)]}}])})],1)],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pagination.current,"page-sizes":e.pagination.sizes,"page-size":e.pagination.size,total:e.pagination.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)])},staticRenderFns:[]};var h=a("VU/8")(u,p,!1,function(e){a("KMop")},"data-v-7914e638",null);t.default=h.exports}});