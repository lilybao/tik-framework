webpackJsonp([40],{RtyM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),o=a.n(s),r=a("exGp"),i=a.n(r),c=a("M4fF"),l=a.n(c),n=a("V/8j"),u={name:"DictData",data:function(){return{searchForm:{dictLabel:"",dictValue:"",sysFlag:""},searchInitForm:{},searchParams:{},showSearch:!0,tableData:[],dict:"",loading:""}},mounted:function(){this.$route.query.dictType?(this.getTableData(),this.getDetail()):this.jumpRouterCachedView(this.$route,{path:"/sys/dict"})},methods:{getDetail:function(){var t=this;return i()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.v)({dictUuid:t.$route.query.dictUuid});case 2:"0000"===(a=e.sent).code&&a.data&&(t.dict=a.data);case 4:case"end":return e.stop()}},e,t)}))()},search:function(){this.searchParams=l.a.cloneDeep(this.searchForm),this.getTableData()},reset:function(){this.searchForm=l.a.cloneDeep(this.searchInitForm),this.searchParams=l.a.cloneDeep(this.searchForm),this.getTableData()},getTableData:function(){var t=this;return i()(o.a.mark(function e(){var a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.searchParams).dictType=t.$route.query.dictType,e.next=4,Object(n.q)(a);case 4:s=e.sent,t.loading=!1,"0000"===s.code&&(t.tableData=s.data);case 7:case"end":return e.stop()}},e,t)}))()},goAdd:function(){this.$router.push({name:"DictDataAdd",query:{dictType:this.$route.query.dictType}})},goEdit:function(t){this.$router.push({name:"DictDataEdit",query:{dictType:this.$route.query.dictType,uuid:t.uuid}})},addChild:function(t){this.$router.push({name:"DictDataAdd",params:{form:{dictType:this.$route.query.dictType,parentUuid:t.uuid}}})},changeStatus:function(t){var e=this,a={uuid:t.uuid,dictStatus:"0"===t.dictStatus?"2":"0"},s="0"===t.dictStatus?"确认要停用该字典数据吗？":"确认要启用该字典数据吗？";this.$confirm(s,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(i()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.f)(a);case 2:"0000"===t.sent.code&&(e.$message({type:"success",message:"操作成功!"}),e.getTableData());case 4:case"end":return t.stop()}},t,e)})))},del:function(t){var e=this;this.$confirm("确认要删除该字典数据及所有子字典数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(i()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(n.i)({dictDataUuid:t.uuid});case 2:"0000"===a.sent.code&&(e.$message({type:"success",message:"删除成功!"}),e.getTableData());case 4:case"end":return a.stop()}},a,e)})))},close:function(){this.jumpRouterCachedView(this.$route,{path:"/sys/dict"})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jee-page"},[a("div",{staticClass:"jee-header"},[a("div",{staticClass:"jee-title"},[a("i",{class:t.$route.meta.icon}),t._v(" "+t._s(t.$route.meta.title)+" ("+t._s(t.dict.dictName)+")")]),t._v(" "),a("div",{staticClass:"jee-tools"},[a("el-button",{attrs:{icon:"fa fa-filter",size:"small"},on:{click:function(e){t.showSearch=!t.showSearch}}},[t._v(" "+t._s(t.showSearch?"隐藏":"查询")+"\n      ")]),t._v(" "),t.$permission["sys:dict:data:add"]?a("el-button",{attrs:{icon:"fa fa-plus",size:"small"},on:{click:t.goAdd}},[t._v(" 新增")]):t._e(),t._v(" "),a("el-button",{attrs:{icon:"fa fa-reply-all",size:"small"},on:{click:t.close}},[t._v(" 关闭")])],1)]),t._v(" "),a("div",{staticClass:"jee-body"},[t.showSearch?a("el-form",{ref:"form",staticClass:"jee-search-form",attrs:{model:t.searchForm,inline:""}},[a("el-form-item",{attrs:{label:"字典标签："}},[a("el-input",{attrs:{size:"small"},model:{value:t.searchForm.dictLabel,callback:function(e){t.$set(t.searchForm,"dictLabel",e)},expression:"searchForm.dictLabel"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"字典键值："}},[a("el-input",{attrs:{size:"small"},model:{value:t.searchForm.dictValue,callback:function(e){t.$set(t.searchForm,"dictValue",e)},expression:"searchForm.dictValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统字典："}},[a("el-select",{attrs:{size:"small"},model:{value:t.searchForm.sysFlag,callback:function(e){t.$set(t.searchForm,"sysFlag",e)},expression:"searchForm.sysFlag"}},[a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{size:"small"},model:{value:t.searchForm.dictStatus,callback:function(e){t.$set(t.searchForm,"dictStatus",e)},expression:"searchForm.dictStatus"}},[a("el-option",{attrs:{label:"正常",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"停用",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1)],1):t._e(),t._v(" "),a("div",{directives:[{name:"auto-height",rawName:"v-auto-height"}],staticClass:"jee-table-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:"",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:" ",align:"center",width:"45"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dictType","header-align":"center",label:"字典标签","show-overflow-tooltip":"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.goEdit(e.row)}}},[t._v(t._s(e.row.dictLabel))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"dictValue","header-align":"center",label:"字典键值","show-overflow-tooltip":"",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"dictSort",align:"center",label:"排序","show-overflow-tooltip":"",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"roleCode",align:"center",label:"系统字典",width:"102","show-overflow-tooltip":"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.sysFlag?a("span",[t._v("否")]):t._e(),t._v(" "),"1"===e.row.sysFlag?a("span",[t._v("是")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"dictDesc","header-align":"center",label:"字典描述","show-overflow-tooltip":"",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"dictStatus",align:"center",label:"状态",width:"92","show-overflow-tooltip":"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.dictStatus?a("span",[t._v("正常")]):t._e(),t._v(" "),"2"===e.row.dictStatus?a("span",[t._v("停用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"149",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{"open-delay":400,effect:"light",content:"编辑字典数据",placement:"bottom-start"}},[t.$permission["sys:dict:data:edit"]?a("el-button",{attrs:{type:"success-text",icon:"fa fa-pencil"},on:{click:function(a){t.goEdit(e.row)}}}):t._e()],1),t._v(" "),"0"===e.row.dictStatus?a("el-tooltip",{attrs:{"open-delay":400,effect:"light",content:"停用字典数据",placement:"bottom-start"}},[t.$permission["sys:dict:data:status"]?a("el-button",{attrs:{type:"danger-text",icon:"fa fa-ban"},on:{click:function(a){t.changeStatus(e.row)}}}):t._e()],1):t._e(),t._v(" "),"2"===e.row.dictStatus?a("el-tooltip",{attrs:{"open-delay":400,effect:"light",content:"启用字典数据",placement:"bottom-start"}},[t.$permission["sys:dict:data:status"]?a("el-button",{attrs:{type:"primary-text",icon:"fa fa-play"},on:{click:function(a){t.changeStatus(e.row)}}}):t._e()],1):t._e(),t._v(" "),a("el-tooltip",{attrs:{"open-delay":400,effect:"light",content:"删除字典数据",placement:"bottom-start"}},[t.$permission["sys:dict:data:delete"]?a("el-button",{attrs:{type:"danger-text",icon:"fa fa-trash-o"},on:{click:function(a){t.del(e.row)}}}):t._e()],1)]}}])})],1)],1)],1)])},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(t){a("xIHc")},"data-v-42a8cc22",null);e.default=p.exports},xIHc:function(t,e){}});